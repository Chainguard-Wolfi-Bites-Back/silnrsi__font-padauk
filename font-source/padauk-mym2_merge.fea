# include(../font-source/padauk-mymr_merge.fea)

languagesystem mym2 dflt;
languagesystem mym2 KHT ;
languagesystem mym2 KSW ;
languagesystem mym2 KYU ;

# *********************
# define named classes
# *********************

@classAllCons = [\u1000 \u1001 \u1002 \u1003 \u1004 \u1005 \u1006 \u1007 \u1008 \u1009 \u100A
    \u100A.alt \u100A_u100A \u100B \u100B_u100B \u100B_u100C \u100C \u100D
    \u100D_u100D \u100D_u100E \u100E \u100F \u100F_u100B \u100F_u100D
    \u1010 \u1011 \u1012 \u1013 \u1014 \u1014.alt \u1014_u1010_u103C \u1015
    \u1016 \u1017 \u1018 \u1019 \u101A \u101B \u101B.alt \u101B.long \u101C
    \u101D \u101E \u101E_u1010_u103C \u101F \u1020 \u1021 \u1022 \u1025
    \u1027 \u1029 \u103F \u104E \u1050 \u1051 \u1052 \u1053 \u1054 \u1055
    \u105A \u105B \u105C \u105D \u1061 \u1065 \u106E \u106F \u1070 \u1075
    \u1076 \u1077 \u1078 \u1079 \u107A \u107B \u107C \u107D \u107E \u107F
    \u1080 \u1081 \u1081.straight \u108E \u109D \u109F \circledash \uAA60
    \uAA61 \uAA62 \uAA63 \uAA64 \uAA65 \uAA66 \uAA67 \uAA68 \uAA69 \uAA6A
    \uAA6B \uAA6C \uAA6D \uAA6E \uAA6F \uAA71 \uAA72 \uAA73 \uAA74 \uAA75
    \uAA76 \uAA77 \uAA78 \uAA79];

@classBigUpperVowel = [\u1004.kinzi \u1004.kinzi_u102D \u1004.kinzi_u102E \u1004.kinzi_u1036
    \u101B.kinzi \u101B.kinzi_u102D \u101B.kinzi_u102E \u101B.kinzi_u103A \u102D \u102D_u1036
    \u102E \u1032 \u1032_u102D \u1033 \u1034 \u1035 \u103A \u1072 \u1073 \u1074 \u1085];

@cBDDia = [\u1000.med \u1003.med \u1006.med \u100A.med \u100C.med \u100F.med \u1010.med
    \u1011.med \u1018.med \u101A.med \u101C.med \u101C.med_u103D
    \u101E.med \u1021.med \uAA60.med \uAA60.med.kham];

@cBSDia = [\u1001.med \u1002.med \u1004.med \u1005.med \u1007.med \u100B.med \u100D.med
    \u100E.med \u1010_u103D.med \u1012.med \u1013.med \u1014.med
    \u1015.med \u1016.med \u1017.med \u1019.med \u101B.med \u102F.med
    \u102F_u108D \u1030.med \u1030_u108D \u1039 \u103D \u103D_u103E
    \u103D_u103E.small \u103D_u108D \u103E \u103E.alt \u103E_u102F
    \u103E_u1030 \u1050.med \u1051.med \u1058 \u1059 \u105A.med
    \u105C.med \u105F \u1082 \u1082_u108D \u108D \u1010_u103D.med.tri
    \u103D.tri \u103D_u103E.tri \u103D_u103E.small.tri \u103E.slantr
    \u103E.slanth \u103E_u102F.slantr \u103E_u102F.slanth
    \u103E_u1030.slantr \u103E_u1030.slanth];

@classConsWide = [\u1000 \u1003 \u1006 \u100A \u100A.alt \u100F \u1010 \u1011 \u1018 \u101A \u101C
    \u101E \u101F \u1021 \u1022 \u106E \u106F \u1078 \u1079 \u107B \u107C
    \u107D \u1080 \uAA60 \uAA61 \uAA63 \uAA64 \uAA65 \uAA66 \uAA67 \uAA68
    \uAA69 \uAA6A \uAA6C \uAA6D \uAA6E \uAA6F \uAA71 \uAA72];

@classConsTakesMedV = [\u1000 \u1001 \u1002 \u1003 \u1004 \u1005 \u1006 \u1007 \u100A.alt \u100E \u100F
    \u1010 \u1011 \u1012 \u1013 \u1014 \u1014.alt \u1015 \u1016 \u1017 \u1018 \u1019 \u101A \u101B \u101B.alt \u101C \u101D \u101E \u101F
    \u1021 \u1022 \u1027 \u103F \u1050 \u1051 \u105C \u1065 \u106E
    \u1075 \u1076 \u1077 \u1078 \u1079 \u107B \u107C \u107D \u107F
    \u1080 \u1081 \u108E \uA9E0 \uA9E1 \uA9E2 \uA9E3 \uA9E4 \uA9E7 \uA9E8 \uA9E9
    \uAA60 \uAA61 \uAA62 \uAA63 \uAA64 \uAA66 \uAA67 \uAA68 \uAA69 \uAA6A \uAA6B \uAA6C \uAA6D \uAA6E \uAA6F 
    \uAA71 \uAA72 \uAA73 \circledash];

@class103C_noalt = [\u103C \u103C.wide \u103C_u103D.narr \u103C_u103D.wide \u103C_u102F.narr
    \u103C_u102F.wide];

@classMedial = [\u1000.med \u1001.med \u1002.med \u1003.med \u1004.med \u1005.med \u1006.med
    \u1007.med \u1008.med \u100A.med \u100B.med \u100C.med \u100D.med
    \u100E.med \u100F.med \u1010.med \u1011.med \u1012.med \u1013.med
    \u1014.med \u1015.med \u1016.med \u1017.med \u1018.med \u1019.med
    \u101A.med \u101B.med \u101C.med \u101E.med \u1021.med
    \u1050.med \u1051.med \u105A.med \u105B.med \u105C.med
    \uAA60.med];

@cmed = [\u1000.med \u1001.med \u1002.med \u1003.med \u1004.med \u1005.med \u1006.med
    \u1007.med \u1008.med \u100A.med \u100B.med \u100C.med \u100D.med
    \u100E.med \u100F.med \u1010.med \u1011.med \u1012.med \u1013.med
    \u1014.med \u1015.med \u1016.med \u1017.med \u1018.med \u1019.med
    \u101A.med \u101B.med \u101C.med \u101E.med \u1021.med
    \u1030.med \u1050.med \u1051.med \u105A.med \u105B.med \u105C.med
    \uAA60.med];

@classNarrBelow = [\u102F.med \u1030.med];

@classUpperVowel = [\u102D \u102D_u1036 \u102E \u1032_u102D \u1033 \u1034 \u1035 \u1071 \u1072 \u1073
    \u1074 \u1085 \u1086];

@cUDia = [\asciicircum \u1004.kinzi \u1004.kinzi_u102D \u1004.kinzi_u102E
    \u1004.kinzi_u1032 \u1004.kinzi_u1033 \u1004.kinzi_u1036
    \u1004.kinzi_u103A \u1004.kinzi_u102D_u1036 \u101B.kinzi
    \u101B.kinzi_u102D \u101B.kinzi_u102E \u101B.kinzi_u103A \u102D
    \u102D_u1036 \u102D_uAA7C \u102E \u102E_uAA7C \u1032 \u1032_u102D
    \u1033 \u1034 \u1035 \u1036 \u103A \u103A_u1036 \u1071 \u1072 \u1073
    \u1074 \u1085 \u1086 \u1086_uAA7C \u109D \uA9E5 \uA9E5_uAA7C \uAA7C
    \u1086.kham \u1032_uAA70 \u103A_uAA70 \u1036.dot];

#Mark attachment classes (defined in GDEF, used in lookupflags)
@class103CLig = [\u102F.med \u103D \u103D.tri];
@class1036 = [\u1036];


# -------------
# GSUB lookups
# -------------

# ****
# locl
# ****

lookup mym2_locl_dot {
  lookupflag 0;
    sub \u1036 by \u1036.dot ;
    sub \u1038 by \u1038.dot ;
    sub \u1087 by \u1087.dot ;
    sub \u1088 by \u1088.dot ;
    sub \u1089 by \u1089.dot ;
    sub \u108A by \u108A.dot ;
    sub \u109A by \u109A.dot ;
    sub \u109B by \u109B.dot ;
    sub \uAA7B by \uAA7B.dot ;
} mym2_locl_dot;

lookup mym2_locl_kham {
  lookupflag 0;
    sub \u1000 by \u1000.kham ;
    sub \u1002 by \u1002.kham ;
    sub \u1004 by \u1004.kham ;
    sub \u1010 by \u1010.kham ;
    sub \u1015 by \u1015.kham ;
    sub \u1019 by \u1019.kham ;
    sub \u101A by \u101A.kham ;
    sub \u101C by \u101C.kham ;
    sub \u1022 by \u1022.kham ;
    sub \u1032 by \u1086.kham ;
    sub \u1075 by \u1075.kham ;
    sub \u1078 by \u1078.kham ;
    sub \u1080 by \u1080.kham ;
    sub \uAA60 by \uAA60.kham ;
    sub \uAA60.med by \uAA60.med.kham ;
    sub \uAA61 by \uAA61.kham ;
    sub \uAA62 by \uAA62.kham ;
    sub \uAA63 by \uAA63.kham ;
    sub \uAA64 by \uAA64.kham ;
    sub \uAA65 by \uAA65.kham ;
    sub \uAA66 by \uAA66.kham ;
    sub \uAA6B by \uAA6B.kham ;
    sub \uAA6C by \uAA6C.kham ;
    sub \uAA6F by \uAA6F.kham ;
    sub \uAA73 by \uAA73.kham ;
    sub \uAA75 by \uAA75.kham ;
    sub \uAA76 by \uAA76.kham ;
} mym2_locl_kham;

lookup mym2_locl_tri {
  lookupflag 0;
    sub \u1010_u103D.med by \u1010_u103D.med.tri ;
    sub \u103B_u103D by \u103B_u103D.tri ;
    sub \u103C_u103D.narr by \u103C_u103D.narr.tri ;
    sub \u103C_u103D.wide by \u103C_u103D.wide.tri ;
    sub \u103C_u103D.alt.narr by \u103C_u103D.alt.narr.tri ;
    sub \u103C_u103D.alt.wide by \u103C_u103D.alt.wide.tri ;
    sub \u103D by \u103D.tri ;
    sub \u103D_u103E by \u103D_u103E.tri ;
} mym2_locl_tri;

lookup mym2_locl_slantr {
  lookupflag 0;
    sub \u103E by \u103E.slantr ;
    sub \u103E_u102F by \u103E_u102F.slantr ;
    sub \u103E_u1030 by \u103E_u1030.slantr ;
} mym2_locl_slantr;

lookup mym2_locl_slanth {
  lookupflag 0;
    sub \u103E by \u103E.slanth ;
    sub \u103E_u102F by \u103E_u102F.slanth ;
    sub \u103E_u1030 by \u103E_u1030.slanth ;
} mym2_locl_slanth;


# ****
# rphf
# ****

lookup mym2_rphf_kinzi {
  lookupflag 0;
    sub \u1004 \u103A \u1039  by \u1004.kinzi;
    sub \u105A \u103A \u1039  by \u1004.kinzi;
    sub \u101B \u103A \u1039  by \u101B.kinzi;
} mym2_rphf_kinzi;


# ****
# pref
# ****


lookup mym2_pref_miscLig {
  lookupflag 0;
    sub \u103C \u1014 \u1039 \u1010 by \u1014_u1010_u103C;
    sub \u103C \u101E \u1039 \u1010 by \u101E_u1010_u103C;
} mym2_pref_miscLig;

lookup mym2_pref_medLig {
  lookupflag 0;
    sub \u103B \u103D  by \u103B_u103D;
    sub \u103D \u103E  by \u103D_u103E;
    sub \u103B_u103D \u103E  by \u103B_u103D_u103E;
    sub \u103B_u103D \u103E.alt  by \u103B_u103D_u103E;
} mym2_pref_medLig;

lookup mym2_u103CwideSubst {
  lookupflag 0;
    sub \u103C by \u103C.wide;
} mym2_u103CwideSubst;

lookup mym2_pref_u103Cwide {
  lookupflag 0;
    sub [\u103C]' lookup mym2_u103CwideSubst [@classConsWide];
} mym2_pref_u103Cwide;

# These are blws rules really but we put them in pref to make sure they 
# run before u103C ligation

lookup mym2_medVowelSubst {
  lookupflag 0;
    sub \u102F by \u102F.med;
    sub \u1030 by \u1030.med;
} mym2_medVowelSubst;

lookup mym2_blws_medVowels {
  lookupflag 0;
    ignore sub [@class103C_noalt] [@classConsTakesMedV] [\u102F \u1030]';
    sub [@classConsTakesMedV]                           [\u102F \u1030]'lookup mym2_medVowelSubst;
    sub [@classConsTakesMedV] [@cUDia]                  [\u102F \u1030]'lookup mym2_medVowelSubst;
} mym2_blws_medVowels;

# Now back to regular pref rules

lookup mym2_pref_u103CLig {
  lookupflag IgnoreBaseGlyphs, MarkAttachmentType @class103CLig;
    sub \u103C \u102F.med by \u103C_u102F.narr;
    sub \u103C \u103D by \u103C_u103D.narr;
    sub \u103C \u103D.tri by \u103C_u103D.narr.tri;
    sub \u103C.wide \u102F.med by \u103C_u102F.wide;
    sub \u103C.wide \u103D by \u103C_u103D.wide;
    sub \u103C.wide \u103D.tri by \u103C_u103D.wide.tri;
} mym2_pref_u103CLig;


# ****
# blwf
# ****

lookup mym2_blwf_u1039med {
  lookupflag 0;
    sub \u1039 \u1000  by \u1000.med;
    sub \u1039 \u1001  by \u1001.med;
    sub \u1039 \u1002  by \u1002.med;
    sub \u1039 \u1003  by \u1003.med;
    sub \u1039 \u1004  by \u1004.med;
    sub \u1039 \u1005  by \u1005.med;
    sub \u1039 \u1006  by \u1006.med;
    sub \u1039 \u1007  by \u1007.med;
    sub \u1039 \u1008  by \u1008.med;
    sub \u1039 \u100A  by \u100A.med;
    sub \u1039 \u100B  by \u100B.med;
    sub \u1039 \u100C  by \u100C.med;
    sub \u1039 \u100D  by \u100D.med;
    sub \u1039 \u100E  by \u100E.med;
    sub \u1039 \u100F  by \u100F.med;
    sub \u1039 \u1010  by \u1010.med;
    sub \u1039 \u1011  by \u1011.med;
    sub \u1039 \u1012  by \u1012.med;
    sub \u1039 \u1013  by \u1013.med;
    sub \u1039 \u1014  by \u1014.med;
    sub \u1039 \u1015  by \u1015.med;
    sub \u1039 \u1016  by \u1016.med;
    sub \u1039 \u1017  by \u1017.med;
    sub \u1039 \u1018  by \u1018.med;
    sub \u1039 \u1019  by \u1019.med;
    sub \u1039 \u101A  by \u101A.med;
    sub \u1039 \u101B  by \u101B.med;
    sub \u1039 \u101C  by \u101C.med;
    sub \u1039 \u101E  by \u101E.med;
    sub \u1039 \u1021  by \u1021.med;
    sub \u1039 \u1050  by \u1050.med;
    sub \u1039 \u1051  by \u1051.med;
    sub \u1039 \u105A  by \u105A.med;
    sub \u1039 \u105B  by \u105B.med;
    sub \u1039 \u105C  by \u105C.med;
    sub \u1039 \uAA60  by \uAA60.med;
} mym2_blwf_u1039med;

# lookup mym2_blwf_shan1081 {
#   lookupflag 0;
#     sub \u1081.straight by \u1002 \u103E ;
#     sub \u1081 by \u1002 \u103E ;
# } mym2_blwf_shan1081;


# ****
# pstf
# ****

lookup mym2_pstf_asatLig {
  lookupflag 0;
    sub \u102B \u103A  by \u102B_u103A;
    sub \u1062 \u103A  by \u1062_u103A;
    sub \u1063 \u103A  by \u1063_u103A;
    sub \u103A \u1036  by \u103A_u1036;
    sub \u103A \uAA70  by \u103A_uAA70;
} mym2_pstf_asatLig;

lookup mym2_pstf_signsLig {
  lookupflag 0;
    sub \u102D \u1036  by \u102D_u1036;
    sub \u102D \u1032  by \u1032_u102D;
    sub \u1004.kinzi \u102D  by \u1004.kinzi_u102D;
    sub \u1004.kinzi \u102E  by \u1004.kinzi_u102E;
    sub \u1004.kinzi \u1032  by \u1004.kinzi_u1032;
    sub \u1004.kinzi \u1033  by \u1004.kinzi_u1033;
    sub \u1004.kinzi \u1036  by \u1004.kinzi_u1036;
    sub \u1004.kinzi \u103A  by \u1004.kinzi_u103A;
    sub \u1004.kinzi \u102D_u1036  by \u1004.kinzi_u102D_u1036;
    sub \u101B.kinzi \u102D  by \u101B.kinzi_u102D;
    sub \u101B.kinzi \u102E  by \u101B.kinzi_u102E;
    sub \u101B.kinzi \u103A  by \u101B.kinzi_u103A;
} mym2_pstf_signsLig;

lookup mym2_pstf_1009 {
  lookupflag 0;
    sub \u1009' \u103A by \u1025;
    sub \u1009' \u1037 \u103A by \u1025;
    sub \u1009' [@classMedial] by \u1025;
} mym2_pstf_1009;

lookup mym2_pstf_tallU {
  lookupflag 0;
    sub [@cmed] [@cUDia] \u102F.med' by \u102F;
    sub [@cmed] \u102F.med' by \u102F;
    sub \u102F.med' [@cmed] by \u102F;
} mym2_pstf_tall_U;

# ****
# pres
# ****

lookup mym2_raUpperVowelSubst {
  lookupflag 0;
    sub \u103C by \u103C.alt.narr;
    sub \u103C.wide by \u103C.alt.wide;
    sub \u103C_u102F.narr by \u103C_u102F.alt.narr;
    sub \u103C_u102F.wide by \u103C_u102F.alt.wide;
    sub \u103C_u103D.narr by \u103C_u103D.alt.narr;
    sub \u103C_u103D.wide by \u103C_u103D.alt.wide;
} mym2_raUpperVowelSubst;

lookup mym2_pres_raUpperVowel {
  lookupflag 0;
    sub [@class103C_noalt]'lookup mym2_raUpperVowelSubst [@classAllCons]  [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raUpperVowelSubst [@classAllCons] [\u103B] [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raUpperVowelSubst [@classAllCons] [\u103E] [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raUpperVowelSubst [@classAllCons] [\u103D_u103E] [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raUpperVowelSubst [@classAllCons] [@cmed] [@classBigUpperVowel];
} mym2_pres_raUpperVowel;

lookup mym2_raTriUpperVowelSubst {
  lookupflag 0;
    sub \u103C_u103D.narr.tri by \u103C_u103D.alt.narr.tri;
    sub \u103C_u103D.wide.tri by \u103C_u103D.alt.wide.tri;
} mym2_raTriUpperVowelSubst;

lookup mym2_pres_raTriUpperVowel {
  lookupflag 0;
    sub [@class103C_noalt]'lookup mym2_raTriUpperVowelSubst [@classAllCons]  [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raTriUpperVowelSubst [@classAllCons] [\u103B] [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raTriUpperVowelSubst [@classAllCons] [\u103E] [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raTriUpperVowelSubst [@classAllCons] [\u103D_u103E] [@classBigUpperVowel];
  subtable;
    sub [@class103C_noalt]'lookup mym2_raTriUpperVowelSubst [@classAllCons] [@cmed] [@classBigUpperVowel];
} mym2_pres_raTriUpperVowel;


# ****
# abvs
# ****

lookup mym2_abvs_redupLig {
  lookupflag IgnoreBaseGlyphs, IgnoreLigatures, MarkAttachmentType @class1036;
    sub \u1032 \uAA70  by \u1032_uAA70; #used by default (dflt) lang if Khamti (KHT ) is not enabled
    sub \u103A \uAA70  by \u103A_uAA70;
    sub \u1086.kham \uAA70  by \u1032_uAA70;
} mym2_abvs_redupLig;


# ****
# blws
# ****


lookup mym2_sub1014Subst {
  lookupflag 0;
    sub \u100A by \u100A.alt ;
    sub \u1014 by \u1014.alt ;
} mym2_sub1014Subst;

lookup mym2_blws_sub1014 {
  lookupflag 0;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [@cBDDia] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [@cUDia] [@cBSDia] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [@cBSDia] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [\u103B ] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [\u102F ] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [\u1030 ] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [\u102F.med ] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [\u1030.med ] ;
  subtable;
    sub [\u100A \u1014 ]'lookup mym2_sub1014Subst  [\u1060 ] ;
} mym2_blws_sub1014;

lookup mym2_raLongSubst {
  lookupflag 0;
    sub [\u101B] by [\u101B.long];
} mym2_raLongSubst;

lookup mym2_blws_raLong {
  lookupflag 0;
    sub [\u101B]'lookup mym2_raLongSubst [\u103E ];
} mym2_blws_raLong;

lookup mym2_raShortSubst {
  lookupflag 0;
    sub \u101B by \u101B.alt ;
} mym2_raShortSubst;

lookup mym2_blws_raShort {
  lookupflag 0;
    sub [\u101B ]'lookup mym2_raShortSubst  [@cBSDia] ; # @cBSDia contains \u103E but above lookup raLong should override it
  subtable;
    sub [\u101B ]'lookup mym2_raShortSubst  [\u103B ] ;
  subtable;
    sub [\u101B ]'lookup mym2_raShortSubst  [@classUpperVowel] [\u102F.med ] ;
  subtable;
    sub [\u101B ]'lookup mym2_raShortSubst  [@classUpperVowel] [\u1030.med ] ;
} mym2_blws_raShort;

lookup mym2_blws_miscLig {
  lookupflag 0;
    sub \u100B \u100B.med  by \u100B_u100B;
    sub \u100B \u100C.med  by \u100B_u100C;
    sub \u100D \u100D.med  by \u100D_u100D;
    sub \u100D \u100E.med  by \u100D_u100E;
    sub \u100F \u100B.med  by \u100F_u100B;
    sub \u100F \u100D.med  by \u100F_u100D;
    sub \u1010.med \u103D  by \u1010_u103D.med;
    sub \u1020 \u1020  by \u1020_u1020;
    sub \u1020 \u103E  by \u1020_u103E;
    sub \u1051 \u100C.med  by \u1051_u100C;
    sub \u1051 \u100D.med  by \u1051_u100D;
} mym2_blws_miscLig;

# ****
# psts
# ****

lookup mym2_psts_miscLig {
  lookupflag 0;
    sub \u1000 \u103B \u1015 \u103A  by \u1000_u103B_u1015_u103A;
    sub \u1000 \u1001.med \u103B  by \u1000_u1001_u103B;
    sub \u1009 \u102C  by \u1009_u102C;
    sub \u100A \u100A.med  by \u100A_u100A;
    sub \u1014 \u1010.med \u103B  by \u1014_u1010_u103B;
} mym2_psts_miscLig;



# -------------
# GSUB features
# -------------

feature locl {
 script mym2;
     language KHT  exclude_dflt;
      lookup mym2_locl_dot;
      lookup mym2_locl_kham;
     language KSW  exclude_dflt;
      lookup mym2_locl_tri;
      lookup mym2_locl_slanth;
     language KYU  exclude_dflt;
      lookup mym2_locl_tri;
      lookup mym2_locl_slantr;
} locl;


feature rphf {
 script mym2;
     language dflt ;
      lookup mym2_rphf_kinzi;
     language KHT  exclude_dflt;
      lookup mym2_rphf_kinzi;
     language KSW  exclude_dflt;
      lookup mym2_rphf_kinzi;
     language KYU  exclude_dflt;
      lookup mym2_rphf_kinzi;
} rphf;


feature pref {
 script mym2;
     language dflt;
      lookup mym2_pref_miscLig;
      lookup mym2_pref_medLig;
      lookup mym2_pref_u103Cwide;
      lookup mym2_blws_medVowels;
      lookup mym2_pref_u103CLig;
     language KHT  exclude_dflt;
      lookup mym2_pref_miscLig;
      lookup mym2_pref_medLig;
      lookup mym2_pref_u103Cwide;
      lookup mym2_blws_medVowels;
      lookup mym2_pref_u103CLig;
     language KSW  exclude_dflt;
      lookup mym2_pref_miscLig;
      lookup mym2_pref_medLig;
      lookup mym2_pref_u103Cwide;
      lookup mym2_blws_medVowels;
      lookup mym2_pref_u103CLig;
     language KYU  exclude_dflt;
      lookup mym2_pref_miscLig;
      lookup mym2_pref_medLig;
      lookup mym2_pref_u103Cwide;
      lookup mym2_blws_medVowels;
      lookup mym2_pref_u103CLig;
} pref;


feature blwf {
 script mym2;
     language dflt ;
      lookup mym2_blwf_u1039med;
#       lookup mym2_blwf_shan1081;
     language KHT  exclude_dflt;
      lookup mym2_blwf_u1039med;
#       lookup mym2_blwf_shan1081;
     language KSW  exclude_dflt;
      lookup mym2_blwf_u1039med;
#       lookup mym2_blwf_shan1081;
     language KYU  exclude_dflt;
      lookup mym2_blwf_u1039med;
#       lookup mym2_blwf_shan1081;
} blwf;


feature pstf {
 script mym2;
     language dflt;
      lookup mym2_pstf_asatLig;
      lookup mym2_pstf_signsLig;
      lookup mym2_pstf_1009;
      lookup mym2_pstf_tall_U;
     language KHT  exclude_dflt;
      lookup mym2_pstf_asatLig;
      lookup mym2_pstf_signsLig;
      lookup mym2_pstf_1009;
     language KSW  exclude_dflt;
      lookup mym2_pstf_asatLig;
      lookup mym2_pstf_signsLig;
      lookup mym2_pstf_1009;
     language KYU  exclude_dflt;
      lookup mym2_pstf_asatLig;
      lookup mym2_pstf_signsLig;
      lookup mym2_pstf_1009;
} pstf;


feature pres {
 script mym2;
    language dflt;
     lookup mym2_pres_raUpperVowel;
     lookup mym2_pres_raTriUpperVowel;
    language KHT  exclude_dflt;
     lookup mym2_pres_raUpperVowel;
     lookup mym2_pres_raTriUpperVowel;
    language KSW  exclude_dflt;
     lookup mym2_pres_raUpperVowel;
     lookup mym2_pres_raTriUpperVowel;
    language KYU  exclude_dflt;
     lookup mym2_pres_raUpperVowel;
     lookup mym2_pres_raTriUpperVowel;
} pres;


feature abvs {
 script mym2;
     language dflt ;
      lookup mym2_abvs_redupLig;
     language KHT  exclude_dflt;
      lookup mym2_abvs_redupLig;
     language KSW  exclude_dflt;
      lookup mym2_abvs_redupLig;
     language KYU  exclude_dflt;
      lookup mym2_abvs_redupLig;
} abvs;


feature blws {
 script mym2;
     language dflt ;
#      lookup mym2_blws_medVowels;
      lookup mym2_blws_sub1014;
      lookup mym2_blws_raLong;
      lookup mym2_blws_raShort;
      lookup mym2_blws_miscLig;
     language KHT  exclude_dflt;
#      lookup mym2_blws_medVowels;
      lookup mym2_blws_sub1014;
      lookup mym2_blws_raLong;
      lookup mym2_blws_raShort;
      lookup mym2_blws_miscLig;
     language KSW  exclude_dflt;
#      lookup mym2_blws_medVowels;
      lookup mym2_blws_sub1014;
      lookup mym2_blws_raLong;
      lookup mym2_blws_raShort;
      lookup mym2_blws_miscLig;
     language KYU  exclude_dflt;
#      lookup mym2_blws_medVowels;
      lookup mym2_blws_sub1014;
      lookup mym2_blws_raLong;
      lookup mym2_blws_raShort;
      lookup mym2_blws_miscLig;
} blws;


feature psts {
 script mym2;
     language dflt ;
      lookup mym2_psts_miscLig;
     language KHT  exclude_dflt;
      lookup mym2_psts_miscLig;
     language KSW  exclude_dflt;
      lookup mym2_psts_miscLig;
     language KYU  exclude_dflt;
      lookup mym2_psts_miscLig;
} psts;


# -------------
# GPOS lookups
# -------------
# using lookups in the generated .fea files

# -------------
# GPOS features
# -------------
# features from the generated .fea files

feature mark {
 script mym2;
     language dflt ;
      lookup base_BD_base;
      lookup base_BS_base;
      lookup base_L_base;
      lookup base_LL_base;
      lookup base_R_base;
      lookup base_U_base;
      lookup base_Y_base;
     language KHT  exclude_dflt;
      lookup base_BD_base;
      lookup base_BS_base;
      lookup base_L_base;
      lookup base_LL_base;
      lookup base_R_base;
      lookup base_U_base;
      lookup base_Y_base;
     language KSW  exclude_dflt;
      lookup base_BD_base;
      lookup base_BS_base;
      lookup base_L_base;
      lookup base_LL_base;
      lookup base_R_base;
      lookup base_U_base;
      lookup base_Y_base;
     language KYU  exclude_dflt;
      lookup base_BD_base;
      lookup base_BS_base;
      lookup base_L_base;
      lookup base_LL_base;
      lookup base_R_base;
      lookup base_U_base;
      lookup base_Y_base;
} mark;

feature mkmk {
 script mym2;
     language dflt ;
      lookup base_BD_mark;
      lookup base_BDM_mark;
      lookup base_BS_mark;
      lookup base_BSM_mark;
      lookup base_L_mark;
      lookup base_LL_mark;
      lookup base_LLM_mark;
      lookup base_LLM_1_mark;
      lookup base_LM_mark;
     language KHT  exclude_dflt;
      lookup base_BD_mark;
      lookup base_BDM_mark;
      lookup base_BS_mark;
      lookup base_BSM_mark;
      lookup base_L_mark;
      lookup base_LL_mark;
      lookup base_LLM_mark;
      lookup base_LLM_1_mark;
      lookup base_LM_mark;
     language KSW  exclude_dflt;
      lookup base_BD_mark;
      lookup base_BDM_mark;
      lookup base_BS_mark;
      lookup base_BSM_mark;
      lookup base_L_mark;
      lookup base_LL_mark;
      lookup base_LLM_mark;
      lookup base_LLM_1_mark;
      lookup base_LM_mark;
     language KYU  exclude_dflt;
      lookup base_BD_mark;
      lookup base_BDM_mark;
      lookup base_BS_mark;
      lookup base_BSM_mark;
      lookup base_L_mark;
      lookup base_LL_mark;
      lookup base_LLM_mark;
      lookup base_LLM_1_mark;
      lookup base_LM_mark;
} mkmk;


@GDEF_Simple = [\.notdef \space \exclam \quotedbl \numbersign \dollar \percent 
	\ampersand \quotesingle \parenleft \parenright \asterisk \plus \comma \hyphen 
	\period \slash \zero \one \two \three \four \five \six \seven \eight \nine \colon 
	\semicolon \less \equal \greater \question \at \A \B \C \D \E \F \G \H \I \J \K \L \M \N \O 
	\P \Q \R \S \T \U \V \W \X \Y \Z \bracketleft \backslash \bracketright \u1000 
	\u1000_u1001_u103B \u1000_u103B_u1015_u103A \u1001 \u1002 \u1003 \u1004 \u1005 
	\u1006 \u1007 \u1008 \u1008.med \u1009 \u1009_u102C \u100A \u100A.alt 
	\u100A_u100A \u100B \u100B.alt \u100B_u100B \u100B_u100C \u100C \u100D 
	\u100D_u100D \u100D_u100E \u100E \u100F \u100F_u100B \u100F_u100D \u1010 \u1011.aiph \u1011 
	\u1012 \u1013 \u1014 \u1014.alt \u1014_u1010_u103B \u1014_u1010_u103C \u1015 
	\u1016 \u1017 \u1018 \u1019 \u101A \u101B \u101B.alt \u101B.long \u101C \u101D 
	\u101E \u101E_u1010_u103C \u101F \u1020 \u1020.long \u1020_u1020 \u1020_u103E 
	\u1021 \u1022 \u1023 \u1024 \u1025 \u1026 \u1027 \u1028 \u1029 \u102A \u102B 
	\u102B_u103A \u102F \u1030 \u1031 \u1038 \u103B \u103B_u103D 
	\u103B_u103D_u103E \u103B_u103E \u103F \u1040 \u1041 \u1042 \u1043 
	\u1044 \u1045 \u1046 \u1047 \u1048 \u1049 \u104A \u104B \u104C \u104D \u104E \u104F 
	\u1050 \u1051 \u1051_u100C \u1051_u100D \u1052 \u1053 \u1054 \u1055 \u1056 \u1057 
	\u105A \u105B \u105B.med \u105C \u105D \u1061 \u1062 \u1062_u103A \u1063 
	\u1063_u103A \u1064 \u1065 \u1066 \u1067 \u1068 \u1069 \u106A \u106B \u106C \u106D 
	\u106E \u106F \u1070 \u1075 \u1076 \u1077 \u1078 \u1079 \u107A.aiph \u107A \u107B \u107C \u107D 
	\u107E \u107F \u1080 \u1081.straight \u1083 \u1084 \u1087 \u1088 \u1089 \u108A 
	\u108B \u108C \u108E \u108F \u1090 \u1091 \u1092 \u1093 \u1094 \u1095 \u1096 \u1097 
	\u1098 \u1099 \u109C \u109E \u109F \u200B \u200C \u200D \quotedblleft 
	\quotedblright \quoteleft \quoteright \endash \emdash \u2060 \notequal 
	\circledash \u1700 \uA92E \uA9E0 \uA9E1 \uA9E2 \uA9E3 \uA9E4 \uA9E6 \uA9E7 \uA9E8 
	\uA9E9 \uA9EA \uA9EB \uA9EC \uA9ED \uA9EE \uA9EF \uA9FA \uA9FB \uA9FC \uA9FD \uA9FE 
	\uA9F0 \uA9F1 \uA9F2 \uA9F3 \uA9F4 \uA9F5 \uA9F6 \uA9F7 \uA9F8 \uA9F9 \uAA60 \uAA61 
	\uAA62 \uAA63 \uAA64 \uAA65 \uAA66 \uAA67 \uAA68 \uAA69 \uAA6A \uAA6B \uAA6C 
	\uAA6C.alt \uAA6D \uAA6E \uAA6F \uAA71 \uAA72 \uAA73 \uAA77 \uAA79 \uAA7A \uAA7D 
	\uAA7E \uAA7F \u1000.kham \u1002.kham \u1004.kham \u1010.kham \u1015.kham 
	\u1019.kham \u101A.kham \u101C.kham \u1022.kham \u1075.kham \u1078.kham 
	\u1080.kham \uAA60.kham \uAA61.kham \uAA62.kham \uAA63.kham \uAA64.kham 
	\uAA65.kham \uAA66.kham \uAA6B.kham \uAA6C.kham \uAA6F.kham \uAA73.kham 
	\uAA75.kham \uAA76.kham \u1038.dot \u1087.dot \u1088.dot \u1089.dot \u108A.dot 
	\u109A.dot \u109B.dot \uAA7B.dot \u103B_u103D.tri \u103B_u103D_u103E.tri 
	\u103C_u103D.alt.narr.tri \u103C_u103D.alt.wide.tri \u103C_u103D.narr.tri 
	\u103C_u103D.wide.tri \.null \nonmarkingreturn ];
@GDEF_Ligature = [\u109A \u109B \uAA74 \uAA75 \uAA76 \uAA78 \uAA7B ];
@GDEF_Mark = [\asciicircum \underscore \grave \a \b \c \d \e \f \g \h \i \j \k \l \m \n \o \p 
	\q \r \s \t \u \v \w \x \y \z \braceleft \bar \braceright \asciitilde \multiply 
	\u1000.med \u1001.med \u1002.med \u1003.med \u1004.med \u1004.kinzi 
	\u1004.kinzi_u102D \u1004.kinzi_u102E \u1004.kinzi_u1032 \u1004.kinzi_u1033 
	\u1004.kinzi_u1036 \u1004.kinzi_u103A \u1004.kinzi_u102D_u1036 \u1005.med 
	\u1006.med \u1007.med \u100A.med \u100B.med \u100C.med \u100D.med \u100E.med 
	\u100F.med \u1010.med \u1010_u103D.med \u1011.med \u1012.med \u1013.med 
	\u1014.med \u1015.med \u1016.med \u1017.med \u1018.med \u1019.med \u101A.med 
	\u101B.med \u101B.kinzi \u101B.kinzi_u102D \u101B.kinzi_u102E 
	\u101B.kinzi_u103A \u101C.med \u101C.med_u103D \u101E.med \u1021.med \u102C 
	\u102D \u102D_u1036 \u102D_uAA7C \u102E \u102E_uAA7C \u102F.med \u102F_u108D 
	\u1030.med \u1030_u108D \u1032 \u1032_u102D \u1033 \u1034 \u1035 \u1036 \u1037 
	\u1039 \u103A \u103A_u1036 \u103D \u103D_u103E \u103D_u103E.small \u103D_u108D 
	\u103E \u103E.alt \u103E_u102F \u103E_u1030 \u1050.med \u1051.med \u1058 \u1059 
	\u105A.med \u105C.med \u105E \u105F \u1060 \u1071 \u1072 \u1073 \u1074 \u1082 
	\u1082_u108D \u1085 \u1086 \u1086_uAA7C \u108D \u109D \uA9E5 \uA9E5_uAA7C 
	\uAA60.med \uAA60.med.kham \uAA70 \uAA7C \u1086.kham \u1032_uAA70 \u103A_uAA70 
	\u1036.dot \u1010_u103D.med.tri \u103D.tri \u103D_u103E.tri 
	\u103D_u103E.small.tri \u103E.slantr \u103E.slanth \u103E_u102F.slantr 
	\u103E_u102F.slanth \u103E_u1030.slantr \u103E_u1030.slanth \u1081 ];

#table GDEF {
#  GlyphClassDef @GDEF_Simple, @GDEF_Ligature, @GDEF_Mark, ;
#
#} GDEF;
